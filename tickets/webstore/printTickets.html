<!DOCTYPE html> <html lang="en">
    <head id='pgHead'>
    		<link rel='stylesheet' href='https://gcparksandresorts.github.io/careawayresort/files/header/headerStyle.css'>
	    	<link rel='stylesheet' href='https://gcparksandresorts.github.io/careawayresort/files/styleSheet.css'>
            	<meta charset='UTF-8'><meta name='viewport' content='width=device-width, initial-scale=1.0'> 
		<link rel='stylesheet' href='https://gcparksandresorts.github.io/careawayresort/files/styleSheet.css'> 
		<link href='https://fonts.googleapis.com/css?family=Funnel+Sans|Lexend+Deca' rel='stylesheet'>
		<link rel='icon' type='image/x-icon' href='https://gcparksandresorts.github.io/careawayresort/files/header/webfavicon.ico'>

	    	<!--
	    		<link href="https://fonts.googleapis.com/css?family=FONT_NAME" rel="stylesheet">
	   	 -->
	    
		<title>Print Your Tickets | Globe-City's Careaway Resort</title> <!-- Dont Forget the page title!! -->
    </head>
    
    	<style>
        	body {margin-top:auto;}
        	section {break-after:page;  -webkit-print-color-adjust: exact !important;    print-color-adjust: exact !important; aspect-ratio:8.5/11; position:relative;}
            	.titleBar > img {height:80px; width:auto; max-width:none;}
		.columnContainer {}
		.leftContainer {padding-top:20px; padding-bottom:20px; font-size:12px;}
        </style>

<body onload='window.print()' id='printContent'>

		

		<!-- BODY CONTENT HERE -->
	<!--
	<section>
		<div class='titleBar'><img src='https://gcparksandresorts.github.io/careawayresort/files/images/logos/careawayresort-logo-white.png'></div>
		<div class='titleBar silver'><h2>Theme Park / Event Admission 1/2</h2></div>

		<div class='leftContainer'>
			<div class='columnContainer'>
				<img src='https://i.imgur.com/9gS8Xri.jpeg'>
				<div>
					<h3>Puertas Nuevas Resident Admission Single-Park - 2 days</h3>
					<h4>Valid for Tier 3 Dates ($120)</h4>
					For eligibile PN Residents Only. Admission to ONE theme park per day (excluding Splashport Bay)
				</div>
			</div>
		</div>
		<div class='spacer'></div>
		<div class='leftContainer'>
			<h3>Ticket holder: Reuven</h3>
			This ticket is assigned to the person named above. Tickets are non-transferable, non-refundable, and hold no cash value. <br><b>Puertas Nuevas Resident admission will require a valid PNID to be displayed at initial entry</b><p>For ensured security, your picture will be taken upon initial use of this ticket. Guests visiting with multi-day admission or GC VIP admission will have their tickets printed at the turnstyles.</p><p><b>If you lose your physical ticket</b> - visit Guest Services or Will Call at the park entrance to have them reprinted. Your name, email used for purchasing, and photo ID will be required.</p>
		</div>
		
		<div class='titleBar silver' style='position:absolute; bottom:0;'><svg class='barcodeDisp' id="barcode-1"></svg></div>
	</section>
	
	<section>
		<div class='titleBar'><img src='https://gcparksandresorts.github.io/careawayresort/files/images/logos/careawayresort-logo-white.png'></div>
		<div class='titleBar silver'><h2>Theme Park / Event Admission 2/2</h2></div>

		<div class='leftContainer'>
			<div class='columnContainer'>
				<img src='https://i.imgur.com/9gS8Xri.jpeg'>
				<div>
					<h3>Puertas Nuevas Resident Admission Single-Park - 2 days</h3>
					<h4>Valid for Tier 3 Dates ($89)</h4>
					For eligibile PN Residents Only. Admission to ONE theme park per day (excluding Splashport Bay)
				</div>
			</div>
		</div>
		<div class='spacer'></div>
		<div class='leftContainer'>
			<h3>Ticket holder: Andrew</h3>
			This ticket is assigned to the person named above. Tickets are non-transferable, non-refundable, and hold no cash value. <br>
			<b>Puertas Nuevas Resident admission will require a valid PNID to be displayed at initial entry</b>
			<p>For ensured security, your picture will be taken upon initial use of this ticket. Guests visiting with multi-day admission or GC VIP admission will have their tickets printed at the turnstyles.</p>
			<p><b>If you lose your physical ticket</b> - visit Guest Services or Will Call at the park entrance to have them reprinted. Your name, email used for purchasing, and photo ID will be required.</p>
		</div>
		
		<div class='titleBar silver' style='position:absolute; bottom:0;'><img style='width:300px; height:auto;' src='https://i.imgur.com/5jnXk1N.png'></div>
	</section>
	<section>
		<div class='titleBar'><img src='https://gcparksandresorts.github.io/careawayresort/files/images/logos/careawayresort-logo-white.png'></div>
		<div class='titleBar silver'><h2>Daily Parking Voucher - $30</h2></div>

		
		<div class='leftContainer'>
			<h3>Valid for ONE vehicle and ONE day of parking at ADVENTURE or ATLANTIS parking structures</h3>
			This voucher includes daily parking for ONE standard vehicle at ADVENTURE or ATLANTIS parking structures only. Unless otherwise stated, this voucher <b>does not</b> include Preffered Parking or additional-fee parking. <b>Overnight parking is not allowed.</b>
			<p><b>Lock your vehicle</b> - Globe-City's Careaway Resort and its affiliates are not responsible for theft or damage to your vehicle at any point during your visit to the property. See terms and conditions at <u>www.careawayresort.net/legal</u> for more information.</p>

			<p>Parking services provided by Puertas Nuevas Parking Company - www.pnpc.gov</p>
			
			<h4>Instructions for Getting to the Resort</h4>
			Parking structures are accessible from ADVENTURE BLVD. Follow signs for THEME PARKS PARKING
			<br>Additional instructions available at www.careawayresort.net/parking
		</div>
		
		<div class='titleBar silver' style='position:absolute; bottom:0;'><img style='width:300px; height:auto;' src='https://i.imgur.com/5jnXk1N.png'></div>
	</section>
       -->
            
		
		<!-- END OF BODY CONTENT -->

</body>
	
<script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.0/dist/JsBarcode.all.min.js"></script>
<script src='https://gcparksandresorts.github.io/careawayresort/files/scripts/generateTicketCode.js'></script>

<script>
	const printContent = document.getElementById("printContent");
	//let ticketList = "TYPE | DATE | NUMDAYS | NAME1,NAME2,NAME3 | ADDON";
	// generateTicket(type,date,numDays,name)

	const searchParams = new URLSearchParams(window.location.search);

	var idList;

	// Get ticket IDs from URL Parameters
	if(searchParams.has("tikIds")){
			idList = searchParams.get("tikIds");
	}else{
		window.open("../../error","_self");
	}

	// Seperate ticket IDs
	if(idList.includes("+")){ // multiple tickets
		idList = idList.split("+");
		for(i = 0; i < idList.length; i++){
			if(idList[i].includes("ADDON")){ // not admission, addOn ticket (parking voucher)
				// CODE TO GENERATE TICKET FOR PARKING VOUCHER, ETC.
			}else{
				try{
					let temp = readTicket(idList[i]);
					// name - type - date - numDay - addOn
						let tikNum = i+1;
						let barcodeID = "barcode-" + i;
					// Create the ticket
						printContent.innerHTML += "<section><div class='titleBar'><img src='https://gcparksandresorts.github.io/careawayresort/files/images/logos/careawayresort-logo-white.png'></div> \
							<div class='titleBar silver'><h2>Theme Park / Event Admission "+tikNum+"/"+idList.length+"</h2></div> \
								<div class='leftContainer'><img src='https://i.imgur.com/LjFg1mN.jpeg'><div><h3>Ticket Type - "+temp[3]+" days</h3><h4>Valid for Tier # dates ($90)</h4>Description of ticket</div></div> \
							<div class='spacer'></div> \
							<p><h4>Ticket Add Ons</h4><ul><li>None</li></ul></p>\
							<div class='spacer'></div> \
								<div class='leftContainer'><h3>Ticket holder: "+temp[0]+"</h3> \
								This ticket is assigned to the person named above. Tickets are non-transferable, non-refundable, and hold no cash value. <br><b>Puertas Nuevas Resident admission will require a valid PNID to be displayed at initial entry</b><p>For ensured security, your picture will be taken upon initial use of this ticket. Guests visiting with multi-day admission or GC VIP admission will have their tickets printed at the turnstyles.</p><p><b>If you lose your physical ticket</b> - visit Guest Services or Will Call at the park entrance to have them reprinted. Your name, email used for purchasing, and photo ID will be required.</p> \
								<p style='color:blue;'><b>To ensure successful scan - </b> Print this page full-size, or half-size at minimum (2 pages per sheet)</p>\
							</div><div class='titleBar silver' style='position:absolute; bottom:0;'><svg class='barcodeDisp' id="+barcodeID+"></svg></div>";

				} catch {
					alert("An error has occurred");
				}
				
			}
			
		}
	}else{ // just one ticket
		let temp = readTicket(idList[i]);
		// name - type - date - numDay - addOn
			let tikNum = 1;
			let barcodeID = "barcode-" + 1;
		// Create the ticket
			printContent.innerHTML += "<section><div class='titleBar'><img src='https://gcparksandresorts.github.io/careawayresort/files/images/logos/careawayresort-logo-white.png'></div> \
				<div class='titleBar silver'><h2>Theme Park / Event Admission "+tikNum+"/"+idList.length+"</h2></div> \
					<div class='leftContainer'><img src='https://i.imgur.com/LjFg1mN.jpeg'><div><h3>Ticket Type - "+temp[3]+" days</h3><h4>Valid for Tier # dates ($90)</h4>Description of ticket</div></div> \
				<div class='spacer'></div> \
				<p><h4>Ticket Add Ons</h4><ul><li>None</li></ul></p>\
				<div class='spacer'></div> \
					<div class='leftContainer'><h3>Ticket holder: "+temp[0]+"</h3> \
					This ticket is assigned to the person named above. Tickets are non-transferable, non-refundable, and hold no cash value. <br><b>Puertas Nuevas Resident admission will require a valid PNID to be displayed at initial entry</b><p>For ensured security, your picture will be taken upon initial use of this ticket. Guests visiting with multi-day admission or GC VIP admission will have their tickets printed at the turnstyles.</p><p><b>If you lose your physical ticket</b> - visit Guest Services or Will Call at the park entrance to have them reprinted. Your name, email used for purchasing, and photo ID will be required.</p> \
					<p style='color:blue;'><b>To ensure successful scan - </b> Print this page full-size, or half-size at minimum (2 pages per sheet)</p>\
				</div><div class='titleBar silver' style='position:absolute; bottom:0;'><svg class='barcodeDisp' id="+barcodeID+"></svg></div>";
	}

	/*
	let ticketList = "1 | 03-15 | 2 | Reuven,Andrew | none";

		const values = ticketList.split(" | ");
		const Names = values[3].split(",");

		var addOnVal;

		if(values[4] != 'none'){
		}else{
			addOnVal = "0000";
		}

		for(i = 0; i < Names.length; i++){
			let ticketCode = generateTicket(values[0], values[1], values[2], Names[i], addOnVal);
			let barcodeID = "barcode-" + i;
			let tikNum = i+1;
			printContent.innerHTML += "<section><div class='titleBar'><img src='https://gcparksandresorts.github.io/careawayresort/files/images/logos/careawayresort-logo-white.png'></div> \
					<div class='titleBar silver'><h2>Theme Park / Event Admission "+tikNum+"/"+Names.length+"</h2></div> \
					<div class='leftContainer'><img src=''><div></div></div> \
					<div class='spacer'></div> \
					<div class='leftContainer'><h3>Ticket holder: "+Names[i]+"</h3> \
					This ticket is assigned to the person named above. Tickets are non-transferable, non-refundable, and hold no cash value. <br><b>Puertas Nuevas Resident admission will require a valid PNID to be displayed at initial entry</b><p>For ensured security, your picture will be taken upon initial use of this ticket. Guests visiting with multi-day admission or GC VIP admission will have their tickets printed at the turnstyles.</p><p><b>If you lose your physical ticket</b> - visit Guest Services or Will Call at the park entrance to have them reprinted. Your name, email used for purchasing, and photo ID will be required.</p> \
					<p style='color:blue;'><b>To ensure successful scan - </b> Print this page full-size, or half-size at minimum (2 pages per sheet)</p>\
					</div><div class='titleBar silver' style='position:absolute; bottom:0;'><svg class='barcodeDisp' id="+barcodeID+"></svg></div>";

			JsBarcode("#"+barcodeID, ticketCode, {
		            format: "CODE128",
		            lineColor: "#000",
		            width: 1,
		            height: 40,
			    fontSize: 13,
		            displayValue: true
		        });
		}// end of forLoop

</script>
	
</html>
